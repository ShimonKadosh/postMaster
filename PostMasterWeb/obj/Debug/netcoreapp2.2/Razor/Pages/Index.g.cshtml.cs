#pragma checksum "C:\Users\skash\source\repos\PostMasterWeb\PostMasterWeb\Pages\Index.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "d9b6e659c8e1700d6b4aabc65b554e02ecb31006"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Pages_Index), @"mvc.1.0.razor-page", @"/Pages/Index.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.RazorPageAttribute(@"/Pages/Index.cshtml", typeof(AspNetCore.Pages_Index), null)]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#line 3 "C:\Users\skash\source\repos\PostMasterWeb\PostMasterWeb\Pages\Index.cshtml"
using PostMasterWeb;

#line default
#line hidden
#line 4 "C:\Users\skash\source\repos\PostMasterWeb\PostMasterWeb\Pages\Index.cshtml"
using Microsoft.EntityFrameworkCore;

#line default
#line hidden
#line 5 "C:\Users\skash\source\repos\PostMasterWeb\PostMasterWeb\Pages\Index.cshtml"
using Microsoft.AspNetCore.Http;

#line default
#line hidden
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"d9b6e659c8e1700d6b4aabc65b554e02ecb31006", @"/Pages/Index.cshtml")]
    public class Pages_Index : global::Microsoft.AspNetCore.Mvc.RazorPages.Page
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("dir", new global::Microsoft.AspNetCore.Html.HtmlString("rtl"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.HeadTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper;
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.BodyTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#line 8 "C:\Users\skash\source\repos\PostMasterWeb\PostMasterWeb\Pages\Index.cshtml"
  

    var CategoryId = HttpContext.Request.Query["category"].ToString();
    CategoryId = !string.IsNullOrEmpty(CategoryId) ? CategoryId : "0";
    var User = _UserModel.LoggedIn();

    var Posts = _ApiContext.Posts
        .Include(p => p.User)
        .Include(p => p.Category);

    if (Int32.Parse(CategoryId) > 0)
    {
        Posts = _ApiContext.Posts
            .Where(p => p.CategoryId == Int32.Parse(CategoryId))
            .Include(p => p.User)
            .Include(p => p.Category);
    }

#line default
#line hidden
            BeginContext(731, 25, true);
            WriteLiteral("<!DOCTYPE html>\r\n<html>\r\n");
            EndContext();
            BeginContext(756, 264, false);
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("head", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "d9b6e659c8e1700d6b4aabc65b554e02ecb310064294", async() => {
                BeginContext(762, 251, true);
                WriteLiteral("\r\n    <meta charset=\"utf-8\" />\r\n    <title>PostMaster - אתר הפוסטים של ישראל</title>\r\n    <link href=\"css/style.css\" rel=\"stylesheet\" />\r\n    <script src=\"https://code.jquery.com/jquery-3.4.1.min.js\"></script>\r\n    <script src=\"js/main.js\"></script>\r\n");
                EndContext();
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.HeadTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_HeadTagHelper);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            EndContext();
            BeginContext(1020, 2, true);
            WriteLiteral("\r\n");
            EndContext();
            BeginContext(1022, 5079, false);
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("body", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "d9b6e659c8e1700d6b4aabc65b554e02ecb310065749", async() => {
                BeginContext(1038, 266, true);
                WriteLiteral(@"
    <header class=""box"">
        <div class=""container"">
            <a href=""/"" id=""logo""><img src=""images/logo.png"" /></a>
            <ul>
                <li>
                    <a href=""#"">קטגוריות</a>
                    <ul class=""box box-content"">
");
                EndContext();
#line 43 "C:\Users\skash\source\repos\PostMasterWeb\PostMasterWeb\Pages\Index.cshtml"
                         foreach (Category category in _ApiContext.Categories)
                        {

#line default
#line hidden
                BeginContext(1411, 34, true);
                WriteLiteral("                            <li><a");
                EndContext();
                BeginWriteAttribute("href", " href=\"", 1445, "\"", 1474, 2);
                WriteAttributeValue("", 1452, "?category=", 1452, 10, true);
#line 45 "C:\Users\skash\source\repos\PostMasterWeb\PostMasterWeb\Pages\Index.cshtml"
WriteAttributeValue("", 1462, category.Id, 1462, 12, false);

#line default
#line hidden
                EndWriteAttribute();
                BeginContext(1475, 1, true);
                WriteLiteral(">");
                EndContext();
                BeginContext(1477, 13, false);
#line 45 "C:\Users\skash\source\repos\PostMasterWeb\PostMasterWeb\Pages\Index.cshtml"
                                                            Write(category.Name);

#line default
#line hidden
                EndContext();
                BeginContext(1490, 11, true);
                WriteLiteral("</a></li>\r\n");
                EndContext();
#line 46 "C:\Users\skash\source\repos\PostMasterWeb\PostMasterWeb\Pages\Index.cshtml"
                        }

#line default
#line hidden
                BeginContext(1528, 196, true);
                WriteLiteral("                    </ul>\r\n                </li>\r\n                <li><a href=\"#\">אודות</a></li>\r\n                <li><a href=\"#\">צור קשר</a></li>\r\n            </ul>\r\n            <div id=\"user\">\r\n");
                EndContext();
#line 53 "C:\Users\skash\source\repos\PostMasterWeb\PostMasterWeb\Pages\Index.cshtml"
                 if (User == null)
                {

#line default
#line hidden
                BeginContext(1779, 99, true);
                WriteLiteral("                    <a id=\"loginBtn\">התחברות</a>\r\n                    <a id=\"signupBtn\">הרשמה</a>\r\n");
                EndContext();
#line 57 "C:\Users\skash\source\repos\PostMasterWeb\PostMasterWeb\Pages\Index.cshtml"
                }
                else
                {

#line default
#line hidden
                BeginContext(1938, 31, true);
                WriteLiteral("                    <span>שלום ");
                EndContext();
                BeginContext(1970, 9, false);
#line 60 "C:\Users\skash\source\repos\PostMasterWeb\PostMasterWeb\Pages\Index.cshtml"
                          Write(User.Name);

#line default
#line hidden
                EndContext();
                BeginContext(1979, 59, true);
                WriteLiteral("</span>\r\n                    <a id=\"postBtn\">פוסט חדש</a>\r\n");
                EndContext();
#line 62 "C:\Users\skash\source\repos\PostMasterWeb\PostMasterWeb\Pages\Index.cshtml"
                }

#line default
#line hidden
                BeginContext(2057, 160, true);
                WriteLiteral("            </div>\r\n        </div>\r\n    </header>\r\n    <div id=\"page\" class=\"container\">\r\n        <aside class=\"box box-content box-radius\">\r\n            <ul>\r\n");
                EndContext();
#line 69 "C:\Users\skash\source\repos\PostMasterWeb\PostMasterWeb\Pages\Index.cshtml"
                 foreach (Category category in _ApiContext.Categories)
                {

#line default
#line hidden
                BeginContext(2308, 26, true);
                WriteLiteral("                    <li><a");
                EndContext();
                BeginWriteAttribute("href", " href=\"", 2334, "\"", 2363, 2);
                WriteAttributeValue("", 2341, "?category=", 2341, 10, true);
#line 71 "C:\Users\skash\source\repos\PostMasterWeb\PostMasterWeb\Pages\Index.cshtml"
WriteAttributeValue("", 2351, category.Id, 2351, 12, false);

#line default
#line hidden
                EndWriteAttribute();
                BeginContext(2364, 1, true);
                WriteLiteral(">");
                EndContext();
                BeginContext(2366, 13, false);
#line 71 "C:\Users\skash\source\repos\PostMasterWeb\PostMasterWeb\Pages\Index.cshtml"
                                                    Write(category.Name);

#line default
#line hidden
                EndContext();
                BeginContext(2379, 11, true);
                WriteLiteral("</a></li>\r\n");
                EndContext();
#line 72 "C:\Users\skash\source\repos\PostMasterWeb\PostMasterWeb\Pages\Index.cshtml"
                }

#line default
#line hidden
                BeginContext(2409, 63, true);
                WriteLiteral("            </ul>\r\n        </aside>\r\n        <div id=\"posts\">\r\n");
                EndContext();
#line 76 "C:\Users\skash\source\repos\PostMasterWeb\PostMasterWeb\Pages\Index.cshtml"
             foreach (Post post in Posts.AsEnumerable().Reverse())
            {

#line default
#line hidden
                BeginContext(2555, 27, true);
                WriteLiteral("                <article>\r\n");
                EndContext();
#line 79 "C:\Users\skash\source\repos\PostMasterWeb\PostMasterWeb\Pages\Index.cshtml"
                      
                        var CurrentUser = _ApiContext.Users.Single(u => u.Id == post.UserId);
                        var UserPosts = CurrentUser.Posts.Count;
                    

#line default
#line hidden
                BeginContext(2790, 132, true);
                WriteLiteral("                    <div class=\"box box-radius\">\r\n                        <div class=\"box-content\">\r\n                            <p>");
                EndContext();
                BeginContext(2923, 12, false);
#line 85 "C:\Users\skash\source\repos\PostMasterWeb\PostMasterWeb\Pages\Index.cshtml"
                          Write(post.Content);

#line default
#line hidden
                EndContext();
                BeginContext(2935, 64, true);
                WriteLiteral("</p>\r\n                            <div class=\"article-footer\">\r\n");
                EndContext();
#line 87 "C:\Users\skash\source\repos\PostMasterWeb\PostMasterWeb\Pages\Index.cshtml"
                                 if (User != null && post.UserId == User.Id)
                                {

#line default
#line hidden
                BeginContext(3112, 74, true);
                WriteLiteral("                                    <a href=\"#\" class=\"edit\" data-postid=\"");
                EndContext();
                BeginContext(3187, 7, false);
#line 89 "C:\Users\skash\source\repos\PostMasterWeb\PostMasterWeb\Pages\Index.cshtml"
                                                                     Write(post.Id);

#line default
#line hidden
                EndContext();
                BeginContext(3194, 89, true);
                WriteLiteral("\">עריכה</a>\r\n                                    <a href=\"#\" class=\"remove\" data-postid=\"");
                EndContext();
                BeginContext(3284, 7, false);
#line 90 "C:\Users\skash\source\repos\PostMasterWeb\PostMasterWeb\Pages\Index.cshtml"
                                                                       Write(post.Id);

#line default
#line hidden
                EndContext();
                BeginContext(3291, 92, true);
                WriteLiteral("\">מחיקה</a>\r\n                                    <a href=\"#\" class=\"ok hidden\" data-postid=\"");
                EndContext();
                BeginContext(3384, 7, false);
#line 91 "C:\Users\skash\source\repos\PostMasterWeb\PostMasterWeb\Pages\Index.cshtml"
                                                                          Write(post.Id);

#line default
#line hidden
                EndContext();
                BeginContext(3391, 94, true);
                WriteLiteral("\">אישור</a>\r\n                                    <a href=\"#\" class=\"cancel hidden\">ביטול</a>\r\n");
                EndContext();
#line 93 "C:\Users\skash\source\repos\PostMasterWeb\PostMasterWeb\Pages\Index.cshtml"
                                }

#line default
#line hidden
                BeginContext(3520, 40, true);
                WriteLiteral("\r\n                                <span>");
                EndContext();
                BeginContext(3561, 14, false);
#line 95 "C:\Users\skash\source\repos\PostMasterWeb\PostMasterWeb\Pages\Index.cshtml"
                                 Write(post.CreatedOn);

#line default
#line hidden
                EndContext();
                BeginContext(3575, 158, true);
                WriteLiteral("</span>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"box-content\">\r\n                            <a");
                EndContext();
                BeginWriteAttribute("href", " href=\"", 3733, "\"", 3766, 2);
                WriteAttributeValue("", 3740, "?category=", 3740, 10, true);
#line 99 "C:\Users\skash\source\repos\PostMasterWeb\PostMasterWeb\Pages\Index.cshtml"
WriteAttributeValue("", 3750, post.CategoryId, 3750, 16, false);

#line default
#line hidden
                EndWriteAttribute();
                BeginContext(3767, 1, true);
                WriteLiteral(">");
                EndContext();
                BeginContext(3769, 18, false);
#line 99 "C:\Users\skash\source\repos\PostMasterWeb\PostMasterWeb\Pages\Index.cshtml"
                                                            Write(post.Category.Name);

#line default
#line hidden
                EndContext();
                BeginContext(3787, 37, true);
                WriteLiteral("</a>\r\n                            <a>");
                EndContext();
                BeginContext(3825, 14, false);
#line 100 "C:\Users\skash\source\repos\PostMasterWeb\PostMasterWeb\Pages\Index.cshtml"
                          Write(post.User.Name);

#line default
#line hidden
                EndContext();
                BeginContext(3839, 65, true);
                WriteLiteral("</a>\r\n                            <span><strong>פוסטים:</strong> ");
                EndContext();
                BeginContext(3905, 9, false);
#line 101 "C:\Users\skash\source\repos\PostMasterWeb\PostMasterWeb\Pages\Index.cshtml"
                                                      Write(UserPosts);

#line default
#line hidden
                EndContext();
                BeginContext(3914, 97, true);
                WriteLiteral("</span>\r\n                        </div>\r\n                    </div>\r\n                </article>\r\n");
                EndContext();
#line 105 "C:\Users\skash\source\repos\PostMasterWeb\PostMasterWeb\Pages\Index.cshtml"
            }

#line default
#line hidden
                BeginContext(4026, 1705, true);
                WriteLiteral(@"        </div>
    </div>
    <div id=""black""></div>
    <div id=""login"" class=""box box-radius box-content"">
        <a href=""#"" class=""closeDialog"">x</a>
        <form action=""/api/users/login"" method=""post"">
            <table>

                <tr>
                    <td>אימייל:</td>
                    <td> <input type=""text"" name=""email"" /></td>
                </tr>
                <tr>
                    <td> סיסמא: </td>
                    <td><input type=""password"" name=""password"" /></td>

                </tr>
            </table>
            <input type=""submit"" />

        </form>
    </div>
    <div id=""signup"" class=""box box-radius box-content "">
        <a href=""#"" class=""closeDialog"">x</a>
        <form action=""/api/users/signup"" method=""post"">
            <table>
                <tr>
                    <td>שם:</td>
                    <td> <input type=""text"" name=""name"" /></td>
                </tr>

                <tr>
                    <td>אימייל:</td>");
                WriteLiteral(@"
                    <td><input type=""text"" name=""email"" /></td>

                </tr>
                <tr>
                    <td>טלפון:</td>
                    <td><input type=""text"" name=""phone"" /></td>
                </tr>
                <tr>
                    <td>סיסמא:</td>
                    <td><input type=""password"" name=""password"" /></td>
                </tr>
            </table>
            <input type=""submit"" />
        </form>
    </div>
    <div id=""post"" class=""box box-radius box-content"">
        <a href=""#"" class=""closeDialog"">x</a>
        <form action=""/api/posts/create"" method=""post"">
            <select name=""categoryID"">
");
                EndContext();
#line 158 "C:\Users\skash\source\repos\PostMasterWeb\PostMasterWeb\Pages\Index.cshtml"
                 foreach (Category category in _ApiContext.Categories)
                {

#line default
#line hidden
                BeginContext(5822, 27, true);
                WriteLiteral("                    <option");
                EndContext();
                BeginWriteAttribute("value", " value=\"", 5849, "\"", 5869, 1);
#line 160 "C:\Users\skash\source\repos\PostMasterWeb\PostMasterWeb\Pages\Index.cshtml"
WriteAttributeValue("", 5857, category.Id, 5857, 12, false);

#line default
#line hidden
                EndWriteAttribute();
                BeginContext(5870, 1, true);
                WriteLiteral(">");
                EndContext();
                BeginContext(5872, 13, false);
#line 160 "C:\Users\skash\source\repos\PostMasterWeb\PostMasterWeb\Pages\Index.cshtml"
                                            Write(category.Name);

#line default
#line hidden
                EndContext();
                BeginContext(5885, 11, true);
                WriteLiteral("</option>\r\n");
                EndContext();
#line 161 "C:\Users\skash\source\repos\PostMasterWeb\PostMasterWeb\Pages\Index.cshtml"
                }

#line default
#line hidden
                BeginContext(5915, 179, true);
                WriteLiteral("            </select>\r\n            <textarea name=\"content\" placeholder=\"הכנס כאן את תוכן הפוסט...\"></textarea>\r\n            <input type=\"submit\" />\r\n        </form>\r\n    </div>\r\n");
                EndContext();
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.BodyTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            EndContext();
            BeginContext(6101, 9, true);
            WriteLiteral("\r\n</html>");
            EndContext();
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public ApiContext _ApiContext { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public UserModel _UserModel { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<PostMasterWeb.Pages.IndexModel> Html { get; private set; }
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary<PostMasterWeb.Pages.IndexModel> ViewData => (global::Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary<PostMasterWeb.Pages.IndexModel>)PageContext?.ViewData;
        public PostMasterWeb.Pages.IndexModel Model => ViewData.Model;
    }
}
#pragma warning restore 1591
